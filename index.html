<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <script src="//code.jquery.com/jquery-1.10.2.min.js"></script>
  <script src="//crypto.stanford.edu/sjcl/sjcl.js"></script>
  <script src="/sujs/FileSaver.js"></script>
  <script src="/sujs/crypto.js"></script>
  <link rel="stylesheet" href="/sujs/style.css"/>
</head>

<body>
  <div id="container">
    <h3>Client-side encryption</h3>
    <div id="upload">
      <div id="inputs" class="clearfix">
        <input type="file" id="file">
        
        <div class="fakefile">
            <input type="button" class="upload" value="Upload"/>
            <!--<img src="search.gif" />-->
        </div>
      </div>
    </div>

    <div><a href="#" id="url"></a></div>

    <div id="error"></div>

    <div class="progress">
      <div id="progress"></div>
      <progress class="progressbar"></progress>
    </div>

    <div id="upload-info" class="info">
      <img src="warning.png" height="16px"/> <b>Warning! This page
      uses Javascript crypto!</b><br/>
      Before uploading a file, this page will use Javascript
      to generate a key and encrypt the file. Then, it will
      give you a link that can be used to access the file,
      containing the encrypted file location, and the key to
      decrypt it.<br/><br/>Note that the key is never sent
      to the server, even when downloading the file!
    </div>
    <div id="download-info" class="info">
      <img src="warning.png" height="16px"/> <b>Warning! This page
      uses Javascript crypto!</b><br/>
      This link is to an encrypted file stored on our server.
      The key to decrypt this file is in the URL (after the <b>#</b>),
      and is not sent to the server. This page will download
      the encrypted file, use the key in the URL to decrypt it,
      and save the decrypted file to your computer.<br/><br/>
      <a href="/sujs/">Upload a file</a>
    </div>
  </div>

</body></html>
